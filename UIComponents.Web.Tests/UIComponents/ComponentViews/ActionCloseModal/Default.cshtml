@using UIComponents.Abstractions;
@using UIComponents.Abstractions.Attributes;
@using UIComponents.Abstractions.Interfaces;
@using UIComponents.Abstractions.Interfaces.Services;
@using UIComponents.Abstractions.Models;
@using UIComponents.Abstractions.Extensions;
@using UIComponents.Defaults;
@using UIComponents.Models;
@using UIComponents.Models.Models;
@using UIComponents.Models.Models.Actions;
@using UIComponents.Models.Models.Buttons;
@using UIComponents.Models.Models.Dropdown;
@using UIComponents.Models.Models.Icons;
@using UIComponents.Models.Models.Inputs;
@using UIComponents.Models.Models.Texts;
@using UIComponents.Web.Extensions;

@model UICActionCloseModal

@{
    string identifier = Model.Selector;
    if(string.IsNullOrWhiteSpace(identifier))
        identifier = Model.GetAttribute("identifier");
    if (string.IsNullOrEmpty(identifier))
        identifier = Model.GetAttribute("formidentifier");
    if (string.IsNullOrEmpty(identifier))
        throw new Exception("Identifier for Actions not defined");
}

if(!uic.modal.closeParent($('@identifier'))){
    @await Model.OnFailed.InvokeAsync(Component)
}