@using CDCPortal.DA.UIComponents.Models.Actions;


@model UICActionGetPost

@{
    if(Model.Data == null)
    {
        switch (Model.ActionType)
    {
        case UICActionGetPost.ActionTypeEnum.Get:
            <text>
               var @Model.ResultName = await $.get('@Url.Action(Model.Action, Model.Controller)', @Html.Raw(Model.RawData));
            </text>
            break;
        case UICActionGetPost.ActionTypeEnum.Post:
            <text>
                    var @Model.ResultName = await Crud.Post('@Url.Action(Model.Action, Model.Controller)', @Html.Raw(Model.RawData));
            </text>
            break;

    }
    }
    else
    {
        switch (Model.ActionType)
        {
            case UICActionGetPost.ActionTypeEnum.Get:
                <text>
                    var @Model.ResultName = await $.get('@Url.Action(Model.Action, Model.Controller)', @Json.Serialize(Model.Data));
                </text>
                break;
            case UICActionGetPost.ActionTypeEnum.Post:
                <text>
                    var @Model.ResultName = await Crud.Post('@Url.Action(Model.Action, Model.Controller)', @Json.Serialize(Model.Data));
                </text>
                break;

        }
    }
    
    
    @await Model.After.InvokeAsync(Component)
}
