@using UIComponents.Abstractions;
@using UIComponents.Abstractions.Attributes;
@using UIComponents.Abstractions.Interfaces;
@using UIComponents.Abstractions.Interfaces.Services;
@using UIComponents.Abstractions.Models;
@using UIComponents.Abstractions.Extensions;
@using UIComponents.Defaults;
@using UIComponents.Models;
@using UIComponents.Models.Models;
@using UIComponents.Models.Models.Actions;
@using UIComponents.Models.Models.Buttons;
@using UIComponents.Models.Models.Dropdown;
@using UIComponents.Models.Models.Icons;
@using UIComponents.Models.Models.Inputs;
@using UIComponents.Models.Models.Texts;
@using UIComponents.Web.Extensions;

@inject IUICLanguageService L
@model UICInputCheckbox

@{

    string id = Model.GetId();
    Model.AddAttribute("class", "custom-control-input");
    if (Model.Actions.HasValue())
    {
        Model.Actions.SetIdentifier($"#{id}");
    }
}

<div class="custom-control custom-switch @(string.IsNullOrEmpty(Model.Color?.ToLower())?"":$"icheck-{Model.Color}")" title="@await Html.TranslateHtml(L, Model.Tooltip)">
    <input type="checkbox" @(Model.Value?"checked":"") @Html.Raw(Model.GetHtmlAttributes())/>
    <label class="custom-control-label" for="@id"></label>
</div>

@await Model.Actions.InvokeAsync(Component)